<!DOCTYPE html>
<html lang="en">
    <%- include('./partials/head.ejs') %>
<body>
    <%- include('./partials/header.ejs') %>

    <!-- Aca va el header -->
    <h1>Registration Form</h1>
    <div class="container">   
        <% if (typeof errors != 'undefined') { %>
                <% errors.forEach(error => { %>
                 <small class="errores-register"><%= error.msg %> </small><br>
                 <% }) %>
                 <% } %>  
               
        <form action="/user/registerdata" method="POST" enctype="multipart/form-data">
         
        <p>
            <label for="">First Name:</label>
            <input type="text" id="firstname" name="firstname" placeholder=" e.g. John">
        </p>
        <p>
            <label for="">Last Name:</label>
            <input type="text" id="lastname" name="lastname" placeholder=" e.g. Simpson">
        </p>
        <p>
            <label for="">Email:</label>
            <input type="email" id="email" name="email" placeholder=" e.g. john-simpson@gmail.com">
        </p>
        <p>
            <label for="">Telephone:</label>
            <input type="text" name="telephone" id="telephone">
        </p>
        <p>
            <label for="">Address:</label>
            <input type="text" name="address" id="address" placeholder="Stanford Street">
        </p>
        <p>
            <label for="">Number:</label>
            <input type="text" name="addressnumber" id="addressnumber" placeholder="2563 6 floor">
        </p>
        <p>
            <label for="">Zipcope:</label>
            <input type="text" name="zipcode" id="zipcode" placeholder="e.g. 221321">
        </p>
        <p>
            <label for="">State:</label>
            <input type="text" name="state" id="state" placeholder="e.g. California">
        </p>
        <p>
            <label for="">Country:</label>
            <input type="text" name="country" id="country" placeholder="e.g. United States">
        </p>
        
        <p>
            <label for="">Password:</label>
            <input type="password" id="password" name="password" placeholder="********">
        </p>
        <p>
            Confirm your Password:
           
        </p>
        <p>
            <label for="password">Password:</label>
            <input type="password" id="password2" name="password2" placeholder="********">
        </p>
        <p>
            <label for="">
                <h3>Images:</h3>
            </label>
            <div class="second-images" id="preview">

            </div>
            <label class="file-btn">
                <input type="file" id="browse" name="userAvatar" onchange="previewFiles()" multiple >
                UPLOAD IMAGES
            </label>
        </p>
        <p>
            <input type="checkbox" id="rememberMe" name="rememberMe">
            <label for="rememberMe" class="rememberMe" >Remember Me</label>
        </p>
        <button type="submit">REGISTER</button>
         
        </form>

        <div class="login">
            <a href="">Log in</a>
        </div>       

    </div>
    <script>
        function previewFiles() {
        
        var preview = document.querySelector('#preview');
        var files   = document.querySelector('input[type=file]').files;
        
        function readAndPreview(file) {
        
          // Make sure `file.name` matches our extensions criteria
          if ( /\.(jpe?g|png|gif)$/i.test(file.name) ) {
            var reader = new FileReader();
            document.querySelector('.second-images').style.display='block';
        
            reader.addEventListener("load", function () {
              var image = new Image();
              image.title = file.name;
              image.src = this.result;
              preview.appendChild( image );
            }, false);
        
            reader.readAsDataURL(file);
          }
        
        }
        
        if (files) {
          [].forEach.call(files, readAndPreview);
        }
        
        }
        </script>
</body>
</html>